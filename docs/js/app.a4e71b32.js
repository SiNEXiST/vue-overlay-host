(function(e){function t(t){for(var o,a,r=t[0],l=t[1],c=t[2],v=0,p=[];v<r.length;v++)a=r[v],n[a]&&p.push(n[a][0]),n[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],o=!0,r=1;r<s.length;r++){var l=s[r];0!==n[l]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=s[0]))}return e}var o={},n={app:0},i=[];function a(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=o,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(s,o,function(t){return e[t]}.bind(null,o));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-overlay-host/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;i.push(["e35a","chunk-vendors"]),s()})({"566d":function(e,t,s){"use strict";var o=s("ddd6"),n=s.n(o);n.a},"87ca":function(e,t,s){},8923:function(e,t,s){},a7e2:function(e,t,s){"use strict";var o=s("87ca"),n=s.n(o);n.a},dd26:function(e,t,s){"use strict";var o=s("e411"),n=s.n(o);n.a},ddd6:function(e,t,s){},e35a:function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d");var o=s("2b0e"),n=s("2f62"),i=s("ce5b"),a=s.n(i),r="overlay-host",l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"overlay-host"},[s("transition",[e.showOverlay?s("div",{staticClass:"overlay",on:{click:function(t){return t.preventDefault(),e.overlayClick(t)}}}):e._e()]),s("transition-group",{staticClass:"elements",attrs:{tag:"div"}},[e._l(e.items,function(t){return[s(t.settings.component,e._b({key:t.id,tag:"component",class:t.settings.class},"component",t.settings.props,!1))]})],2)],1)},c=[],u=s("8afe"),v=s("c665"),p=s("dc0a"),d=s("aa9a"),f=s("d328"),m=s("11d9"),h=s("9ab4"),g=s("60a3"),b=s("4bb5"),y=Object(b["a"])(r),O=function(e){function t(){var e;return Object(v["a"])(this,t),e=Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.showOverlay=!1,e}return Object(d["a"])(t,[{key:"storeWatcher",value:function(){}},{key:"created",value:function(){this.storeWatcher=this.$store.watch(function(e){return e[r].items},this.itemsChange,{deep:!0}),window.addEventListener("keydown",this.handleWindowKeydown)}},{key:"beforeDestroy",value:function(){null!=this.storeWatcher&&this.storeWatcher(),window.removeEventListener("keydown",this.handleWindowKeydown)}},{key:"itemsChange",value:function(){this.showOverlay=!1;for(var e=0;e<this.items.length;e++)if(this.items[e].settings.overlay.show){this.showOverlay=!0;break}}},{key:"overlayClick",value:function(){this.removeLast("click")}},{key:"handleWindowKeydown",value:function(e){"Escape"!==e.key&&27!==e.keyCode||(e.preventDefault(),this.removeLast("escape"))}},{key:"removeLast",value:function(e){if(!(this.items.length<=0)){for(var t=!1,s=Object(u["a"])(this.items),o=s.length-1;o>=0;o--){var n=s[o];if(("click"!==e||n.settings.overlay.show&&n.settings.overlay.closeOnClick)&&("escape"!==e||n.settings.closeOnEscape)){clearTimeout(n.timeoutId),n.resolver({value:void 0,origin:e}),s.splice(o,1),t=!0;break}}t&&this.$store.commit("".concat(r,"/setItems"),s)}}}]),Object(p["a"])(t,e),t}(g["b"]);h["a"]([y.State("items")],O.prototype,"items",void 0),O=h["a"]([Object(g["a"])({name:"overlay-host"})],O);var w=O,k=w,x=(s("566d"),s("2877")),_=Object(x["a"])(k,l,c,!1,null,null,null);_.options.__file="OverlayHost.vue";var j=_.exports,C=s("6bde");function T(e,t){if(null==e||"object"!==Object(C["a"])(e))throw new TypeError("The Settings have to be specified!");if(!e.hasOwnProperty("component")||null==e.component||"string"!==typeof e&&"object"!==Object(C["a"])(e))throw new TypeError("The Settings does not have a valid component property!");return"boolean"===typeof e.overlay?e.overlay={show:e.overlay,closeOnClick:!0}:null!=e.overlay&&"object"===Object(C["a"])(e.overlay)||(e.overlay={show:!1,closeOnClick:!1}),"number"===typeof e.timeout&&!isNaN(e.timeout)&&isFinite(e.timeout)||(e.timeout=t),"boolean"!==typeof e.closeOnEscape&&(e.closeOnEscape=!0),e}function E(e){return"number"===typeof e&&(e={id:e}),e}function S(e,t){for(var s=!1,o=null,n=Object(u["a"])(e.state.items),i=0;i<n.length;i++){var a=n[i];if(a.id===t){clearTimeout(a.timeoutId),n.splice(i,1),s=!0,o=a;break}}return!!s&&(e.commit("setItems",n),o)}function $(e){"number"===typeof e?e={timeout:e}:(null==e||"object"!==Object(C["a"])(e)||Array.isArray(e))&&(e={});var t=null==e.timeout?-1:e.timeout,s={items:[],idCounter:0},o={setItems:function(e,t){e.items=t},increaseCounter:function(e){e.idCounter++}},n={show:function(e,s){var o=function(){},n=function(){},i=new Promise(function(e,t){o=e,n=t}),a=e.state.idCounter;e.commit("increaseCounter");var r={id:a,resolver:o,rejector:n,settings:T(s,t)};null!=r.settings.timeout&&r.settings.timeout>0&&(r.timeoutId=setTimeout(function(){e.dispatch("close",{id:r.id,origin:"timeout"})},r.settings.timeout));var l=Object(u["a"])(e.state.items);return l.push(r),e.commit("setItems",l),Promise.resolve({id:a,promise:i,close:function(t,s){return e.dispatch("close",{id:a,value:t,origin:s})},abort:function(t,s){return e.dispatch("abort",{id:a,value:t,origin:s})}})},close:function(e,t){t=E(t);var s=S(e,t.id);return s?(s.resolver({value:t.value,origin:t.origin}),Promise.resolve(!0)):Promise.resolve(!1)},abort:function(e,t){t=E(t);var s=S(e,t.id);return s?(s.rejector({value:t.value,origin:t.origin}),Promise.resolve(!0)):Promise.resolve(!1)}};return{namespaced:!0,state:s,mutations:o,actions:n}}function P(e,t){e.registerModule(r,$(t))}s("bf40"),s("d1e7");var W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{attrs:{id:"app"}},[s("v-content",[s("example")],1),s("overlay-host")],1)},I=[],L={},M=L,H=(s("a7e2"),Object(x["a"])(M,W,I,!1,null,null,null));H.options.__file="App.vue";var J=H.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"example"},[s("h1",[e._v("Overlay Host")]),s("h2",[e._v("Example")]),s("v-layout",{attrs:{"mt-3":"",row:"",wrap:""}},[s("v-flex",{staticClass:"settings",attrs:{md8:"","pa-3":""}},[s("v-card",[s("v-card-title",[s("div",{staticClass:"headline"},[e._v("Options")])]),s("v-card-text",[s("v-checkbox",{attrs:{label:"Show Overlay"},model:{value:e.settings.overlay.show,callback:function(t){e.$set(e.settings.overlay,"show",t)},expression:"settings.overlay.show"}}),s("v-checkbox",{attrs:{disabled:!e.settings.overlay.show,label:"Close overlay on click"},model:{value:e.settings.overlay.closeOnClick,callback:function(t){e.$set(e.settings.overlay,"closeOnClick",t)},expression:"settings.overlay.closeOnClick"}}),s("v-checkbox",{attrs:{label:"Use timeout"},model:{value:e.doTimeout,callback:function(t){e.doTimeout=t},expression:"doTimeout"}}),s("v-slider",{attrs:{disabled:!e.doTimeout,messages:[this.settings.timeout/1e3+"s"],"thumb-label":"",min:"0",max:"10000",step:"100",label:"Timeout"},model:{value:e.settings.timeout,callback:function(t){e.$set(e.settings,"timeout",t)},expression:"settings.timeout"}}),s("v-checkbox",{attrs:{label:"Close on Escape"},model:{value:e.settings.closeOnEscape,callback:function(t){e.$set(e.settings,"closeOnEscape",t)},expression:"settings.closeOnEscape"}}),s("v-text-field",{attrs:{label:"Toast Title"},model:{value:e.settings.props.title,callback:function(t){e.$set(e.settings.props,"title",t)},expression:"settings.props.title"}}),s("v-textarea",{attrs:{label:"Toast Message"},model:{value:e.settings.props.message,callback:function(t){e.$set(e.settings.props,"message",t)},expression:"settings.props.message"}})],1)],1)],1),s("v-flex",{attrs:{md4:"","pa-3":""}},[s("v-layout",{attrs:{column:""}},[s("v-flex",{attrs:{"xs-12":"","pb-3":""}},[s("v-card",[s("v-card-title",[s("div",{staticClass:"headline"},[e._v("Toast Settings")])]),s("v-card-text",[s("pre",{staticClass:"output"},[e._v(e._s(e.finalSettings))])])],1)],1),s("v-flex",{attrs:{"xs-12":"","pt-3":""}},[s("v-card",[s("v-card-title",[s("div",{staticClass:"headline"},[e._v("Log")])]),s("v-card-text",[s("pre",{staticClass:"log"},[e._v(e._s(e.log))])])],1)],1)],1)],1)],1),s("v-btn",{staticClass:"show-toast-btn",attrs:{depressed:"",color:"primary"},on:{click:e.showToast}},[e._v("Show Toast")])],1)},A=[],D=s("c93e"),K={name:"example",data:function(){return{doTimeout:!0,log:"",settings:{overlay:{show:!0,closeOnClick:!0},timeout:3e3,closeOnEscape:!0,props:{title:"Hello World!",message:"This is an example of a simple Toast implementation using the Overlay Host!"}}}},computed:{finalSettings:function(){return Object(D["a"])({},this.settings,{timeout:this.doTimeout?this.settings.timeout:-1})}},methods:{showToast:function(){var e=this;""!==this.log&&(this.log+="\n"),this.$store.dispatch("overlay-host/show",Object(D["a"])({},this.finalSettings,{component:"toast"})).then(function(t){return e.log+="Opened Toast: "+JSON.stringify(t),t.promise}).then(function(t){e.log+="\nToast closed: "+JSON.stringify(t)})}}},F=K,U=(s("f970"),Object(x["a"])(F,N,A,!1,null,null,null));U.options.__file="Example.vue";var q=U.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"toast"},[s("h1",[e._v(e._s(e.title))]),s("p",[e._v(e._s(e.message))])])},B=[],G={props:["title","message"]},Q=G,R=(s("dd26"),Object(x["a"])(Q,z,B,!1,null,null,null));R.options.__file="Toast.vue";var V=R.exports;o["default"].config.productionTip=!1,o["default"].component("example",q),o["default"].component("overlay-host",j),o["default"].component("toast",V),o["default"].use(n["a"]),o["default"].use(a.a);var X=new n["a"].Store({strict:!0,plugins:[P]});new o["default"]({store:X,render:function(e){return e(J)}}).$mount("#app")},e411:function(e,t,s){},f970:function(e,t,s){"use strict";var o=s("8923"),n=s.n(o);n.a}});
//# sourceMappingURL=app.a4e71b32.js.map